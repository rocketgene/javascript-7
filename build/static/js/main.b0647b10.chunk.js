(this.webpackJsonpgallery=this.webpackJsonpgallery||[]).push([[0],{35:function(t,e,a){},63:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),s=a(29),c=a.n(s),o=(a(35),a(20)),h=a(12),i=a(13),l=a(15),u=a(14),d="3a8684e6b462da8130eea6eff732d8d2",j=a(8),f=a(2),b=a(11),p=a.n(b),m=a(0),O=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).handleSubmit=function(e){e.preventDefault();var a="/search/".concat(t.query.value);t.props.searchedTerms.find((function(e){return e===t.query.value}))?(t.props.onSearchOldPhoto(t.query.value),t.props.history.push(a)):(t.props.onSearch(t.query.value),t.props.history.push(a)),e.currentTarget.reset()},t}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{className:"search-form",onSubmit:this.handleSubmit,children:[Object(m.jsx)("input",{type:"search",onChange:this.onSearchChange,name:"search",ref:function(e){return t.query=e},placeholder:"Search",required:!0}),Object(m.jsx)("button",{type:"submit",className:"search-button",children:Object(m.jsxs)("svg",{fill:"#fff",height:"24",viewBox:"0 0 23 23",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),Object(m.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]})})]})})}}]),a}(n.Component),g=Object(f.g)(O),x=function(t){return Object(m.jsx)("li",{children:Object(m.jsx)("img",{src:t.url,alt:""})})};var v=function(){return Object(m.jsxs)("div",{className:"not-found",children:[Object(m.jsx)("h3",{children:"No Results Found"}),Object(m.jsx)("p",{children:"You search did not return any results. Please try again."})]})},P=function(t){var e,a=t.data;t.match&&t.checkUrl(t.match),a.length>0?e=a.map((function(t){return Object(m.jsx)(x,{url:"https://live.staticflickr.com/".concat(t.server,"/").concat(t.id,"_").concat(t.secret,".jpg")},t.id)})):(a.length=0)&&(e=Object(m.jsx)(v,{}));var n=t.navName;return Object(m.jsxs)("div",{className:"photo-container",children:[Object(m.jsx)("h2",{children:t.match?t.match:n}),Object(m.jsx)("ul",{children:e})]})};var w=function(){return Object(m.jsx)("nav",{className:"main-nav",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/sea",children:"Sea"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/mountain",children:"Mountain"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/waterfall",children:"Waterfall"})})]})})};var k=function(){return Object(m.jsx)("div",{className:"not-found",children:Object(m.jsx)("h3",{children:"404: Page not found"})})},S=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(h.a)(this,a),(t=e.call(this)).performSearch=function(e){t.setState({isLoading:!0}),p.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(d,"&tags=").concat(e,"&per_page=24&format=json&nojsoncallback=1")).then((function(a){t.setState({currentPhotos:a.data.photos.photo}),t.setState((function(t){return{searchedPhotos:[].concat(Object(o.a)(t.searchedPhotos),[a.data.photos.photo])}})),t.setState((function(t){return{searchedTerms:[].concat(Object(o.a)(t.searchedTerms),[e])}})),t.setState({isLoading:!1})})).catch((function(t){return console.log("Error fetching and parsing data",t)}))},t.showCurrentPhotos=function(e){t.setState({currentPhotos:t.state.searchedPhotos[t.state.searchedTerms.indexOf(e)]})},t.checkUrl=function(e){t.state.searchedTerms.find((function(t){return e===t}))&&t.state.currentPhotos!==t.state.searchedPhotos[t.state.searchedTerms.indexOf(e)]&&t.setState({currentPhotos:t.state.searchedPhotos[t.state.searchedTerms.indexOf(e)]})},t.state={seaPhotos:[],mountainPhotos:[],waterfallPhotos:[],searchedPhotos:[],searchedTerms:[],currentPhotos:[],isLoading:!0},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this;if(this.state.seaPhotos.length>0&&this.state.mountainPhotos.length>0&&this.state.waterfallPhotos.length>0)return null;p.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(d,"&tags=sea&per_page=24&format=json&nojsoncallback=1")).then((function(e){return t.setState({seaPhotos:e.data.photos.photo,isLoading:!1})})).catch((function(t){return console.log("Error fetching and parsing data",t)})),p.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(d,"&tags=mountain&per_page=24&format=json&nojsoncallback=1")).then((function(e){return t.setState({mountainPhotos:e.data.photos.photo,isLoading:!1})})).catch((function(t){return console.log("Error fetching and parsing data",t)})),p.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(d,"&tags=waterfall&per_page=24&format=json&nojsoncallback=1")).then((function(e){return t.setState({waterfallPhotos:e.data.photos.photo,isLoading:!1})})).catch((function(t){return console.log("Error fetching and parsing data",t)}))}},{key:"render",value:function(){var t=this;return Object(m.jsx)(j.a,{children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(g,{onSearch:this.performSearch,onSearchOldPhoto:this.showCurrentPhotos,allPhotos:this.state.searchedPhotos,searchedTerms:this.state.searchedTerms}),Object(m.jsx)(w,{}),Object(m.jsxs)(f.d,{children:[Object(m.jsx)(f.b,{exact:!0,path:"/",render:function(){return Object(m.jsx)(f.a,{to:"/sea"})}}),Object(m.jsx)(f.b,{path:"/sea",render:function(){return Object(m.jsx)(P,{data:t.state.seaPhotos,isNav:!0,navName:"sea"})}}),Object(m.jsx)(f.b,{path:"/mountain",render:function(){return Object(m.jsx)(P,{data:t.state.mountainPhotos,isNav:!0,navName:"mountain"})}}),Object(m.jsx)(f.b,{path:"/waterfall",render:function(){return Object(m.jsx)(P,{data:t.state.waterfallPhotos,isNav:!0,navName:"waterfall"})}}),this.state.isLoading?Object(m.jsx)("p",{children:"Loading..."}):Object(m.jsx)(f.b,{path:"/search/:query",render:function(e){var a=e.match;return Object(m.jsx)(P,{data:t.state.currentPhotos,match:a.params.query,checkUrl:t.checkUrl})},isNav:!1}),Object(m.jsx)(f.b,{component:k})]})]})})}}]),a}(n.Component),y=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,s=e.getLCP,c=e.getTTFB;a(t),n(t),r(t),s(t),c(t)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root")),y()}},[[63,1,2]]]);
//# sourceMappingURL=main.b0647b10.chunk.js.map